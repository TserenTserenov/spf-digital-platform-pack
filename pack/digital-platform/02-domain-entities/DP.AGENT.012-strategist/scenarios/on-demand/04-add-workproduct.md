---
id: AGT.012.SC.08
type: scenario
trigger: on-demand
status: draft
created: 2026-02-07
---

# Add Work Product

## Назначение

Добавление нового рабочего продукта в план с заполнением всех атрибутов.

## Триггер

- **Тип:** По запросу
- **Команда:** `/add-wp [название]` или `/add-workproduct [название]`
- **Когда:** При появлении нового РП

## Входы

| Источник | Данные | Обязательность |
|----------|--------|----------------|
| Запрос | Название / описание РП | Обязательно |
| `current/weekly-plan.md` | Текущий план | Для добавления |
| Контекст | Репозиторий, область | Из контекста или запроса |

## Алгоритм

### Шаг 1: Сбор информации о РП

Запросить или определить:

| Атрибут | Источник | Пример |
|---------|----------|--------|
| `name` | От пользователя | "Паспорт агента Strategist" |
| `area` | Определить или спросить | digital-platform |
| `kernel` | Определить или спросить | C (IT-Platform) |
| `repo` | Определить или спросить | spf-digital-platform-pack |
| `budget` | Спросить | 4h |
| `priority` | Спросить или P2 по умолчанию | P1 |
| `criteria` | Спросить | Чеклист готовности |

### Шаг 2: Определение уровня

Куда добавить:
- **День** — если бюджет ≤4h и срочно
- **Неделя** — стандартный случай
- **Месяц** — если это новый приоритет

### Шаг 3: Проверка бюджета

```
Проверка:
- Бюджет недели: Xh запланировано / Yh доступно
- Добавление РП: +Zh
- После добавления: X+Zh / Yh

Если X+Z > Y: предупредить о превышении
```

### Шаг 4: Формирование записи

Создать запись РП в формате:

```markdown
| # | РП | Область | Репо | Бюджет | Статус |
|---|-----|---------|------|--------|--------|
| N | [название] | [area] | [repo] | [budget] | pending |
```

### Шаг 5: Критерии готовности

Если пользователь не указал, предложить шаблон:

```markdown
**Критерии готовности:**
- [ ] Основной артефакт создан
- [ ] Связи указаны
- [ ] Закоммичено
```

### Шаг 6: Добавление и коммит

1. Добавить в соответствующий план
2. Обновить итоговый бюджет
3. Закоммитить

## Выходы

| Артефакт | Путь | Описание |
|----------|------|----------|
| Обновлённый план | `current/weekly-plan.md` | С новым РП |
| Коммит | — | Фиксация |

## Формат вывода

### Шаг 1: Сбор данных

```markdown
## Добавление рабочего продукта

**Название:** [от пользователя]

Уточните атрибуты:

| Атрибут | Значение | Изменить? |
|---------|----------|-----------|
| Область | digital-platform | [другая] |
| Ядро | C (IT-Platform) | [другое] |
| Репо | spf-digital-platform-pack | [другой] |
| Бюджет | ? | [указать часы] |
| Приоритет | P2 | [P1/P3] |

Укажите бюджет времени (например: 2h, 4h):
```

### Шаг 2: Подтверждение

```markdown
## Новый рабочий продукт

| Атрибут | Значение |
|---------|----------|
| Название | [название] |
| Область | [area] |
| Ядро | [kernel] |
| Репо | [repo] |
| Бюджет | [budget] |
| Приоритет | [priority] |

**Критерии готовности:**
- [ ] Критерий 1
- [ ] Критерий 2

**Влияние на бюджет недели:**
- Было: Xh
- Станет: X+Yh
- Осталось: Zh

---

Добавить в план недели?
```

### Шаг 3: Результат

```markdown
## Добавлено

РП "[название]" добавлен в план недели.

| # | РП | Область | Репо | Бюджет | Статус |
|---|-----|---------|------|--------|--------|
| N | [название] | [area] | [repo] | [budget] | pending |

**Бюджет недели:** Xh / Yh

---

Начать работу над этим РП сейчас?
```

## Шаблоны критериев по типам РП

### Документ

```markdown
- [ ] Документ создан
- [ ] Frontmatter заполнен
- [ ] Связи указаны
- [ ] Закоммичено
```

### Код

```markdown
- [ ] Код написан
- [ ] Тесты пройдены
- [ ] Документация обновлена
- [ ] PR создан / вмержен
```

### Исследование

```markdown
- [ ] Источники изучены
- [ ] Выводы сформулированы
- [ ] Документ с результатами создан
```

## Метрики успеха

| Метрика | Целевое |
|---------|---------|
| РП добавлен | Да |
| Все атрибуты заполнены | Да |
| Бюджет учтён | Да |

## Ошибки и fallback

| Ошибка | Действие |
|--------|----------|
| Бюджет не указан | Запросить |
| Превышение бюджета | Предупредить |
| Нет плана недели | Создать |

## Связанные сценарии

- **Часто после:** [02-check-plan](02-check-plan.md)
- **Может вызвать:** [03-update-priorities](03-update-priorities.md)
