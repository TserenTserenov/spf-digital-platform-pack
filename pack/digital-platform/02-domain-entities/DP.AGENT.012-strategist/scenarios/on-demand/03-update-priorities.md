---
id: AGT.012.SC.07
type: scenario
trigger: on-demand
status: draft
created: 2026-02-07
---

# Update Priorities

## Назначение

Изменение приоритетов на любом уровне (день, неделя, месяц) по запросу пользователя.

## Триггер

- **Тип:** По запросу
- **Команда:** `/update-priorities [уровень] [изменения]`
- **Когда:** В любой момент

## Входы

| Источник | Данные | Обязательность |
|----------|--------|----------------|
| Запрос | Что изменить | Обязательно |
| `current/daily/YYYY-MM-DD.md` | План дня | Если меняем день |
| `current/weekly-plan.md` | План недели | Если меняем неделю |
| `current/monthly-priorities.md` | Месячные приоритеты | Если меняем месяц |

## Алгоритм

### Шаг 1: Определение уровня

| Уровень | Индикаторы |
|---------|------------|
| День | "сегодня", "на день", конкретные РП дня |
| Неделя | "на неделю", "эту неделю", РП недели |
| Месяц | "приоритеты", "на месяц", "фокус" |

### Шаг 2: Анализ изменений

Типы изменений:
- **Добавить** — новый РП / приоритет
- **Убрать** — удалить из плана
- **Переставить** — изменить порядок / приоритет
- **Перенести** — на другой день / неделю
- **Изменить бюджет** — больше / меньше времени

### Шаг 3: Каскадные изменения

| Изменение в | Влияет на |
|-------------|-----------|
| Месяц | → Неделя → День |
| Неделя | → День |
| День | Только день |

### Шаг 4: Показать diff

Показать:
- Было
- Стало
- Влияние на другие уровни

### Шаг 5: Подтверждение и сохранение

1. Запросить подтверждение
2. Обновить файлы
3. Закоммитить

## Выходы

| Артефакт | Путь | Описание |
|----------|------|----------|
| Обновлённый план | `current/*.md` | Изменённые файлы |
| Коммит | — | Фиксация изменений |

## Формат вывода

```markdown
## Обновление приоритетов

### Уровень: [день/неделя/месяц]

### Изменения

**Было:**
| # | РП | Бюджет | Приоритет |
|---|-----|--------|-----------|
| 1 | РП-A | 2h | P1 |
| 2 | РП-B | 3h | P2 |

**Стало:**
| # | РП | Бюджет | Приоритет |
|---|-----|--------|-----------|
| 1 | РП-C (новый) | 4h | P1 |
| 2 | РП-A | 2h | P2 |
| — | ~~РП-B~~ | — | убран |

### Каскадные изменения

- **Неделя:** РП-B убран из недельного плана
- **День:** РП-B убран из плана на сегодня

### Влияние на бюджет

| Уровень | Было | Стало | Δ |
|---------|------|-------|---|
| День | 5h | 6h | +1h |
| Неделя | 20h | 21h | +1h |

---

Применить изменения?
```

## Примеры использования

### Пример 1: Добавить РП в день

```
/update-priorities день добавить "Написать документацию" 2h
```

### Пример 2: Убрать из недели

```
/update-priorities неделя убрать РП-3
```

### Пример 3: Изменить месячный приоритет

```
/update-priorities месяц поднять "Strategist" на P1
```

### Пример 4: Перенести на следующую неделю

```
/update-priorities неделя перенести РП-5 на следующую
```

## Метрики успеха

| Метрика | Целевое |
|---------|---------|
| Изменения применены | Да |
| Каскад обработан | Да |
| Пользователь подтвердил | Да |

## Ошибки и fallback

| Ошибка | Действие |
|--------|----------|
| РП не найден | Уточнить название |
| Конфликт бюджета | Предупредить о превышении |
| Нет плана | Создать новый |

## Связанные сценарии

- **Часто после:** [02-check-plan](02-check-plan.md)
- **Может вызвать:** [04-add-workproduct](04-add-workproduct.md)
